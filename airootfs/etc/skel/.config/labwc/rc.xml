<?xml version="1.0"?>
<labwc_config>

  <!-- Placement -->
  <placement>
    <policy>cursor</policy>
  </placement>

  <!-- Theme -->
  <theme>
    <name>Waybang-Mocha</name>
    <cornerRadius>0</cornerRadius>
  </theme>

  <!-- Margins  add optional output="<MONITOR>" -->
  <margin top="5" bottom="3" left="5" right="5" />

  <!-- Keyboard -->
  <keyboard>
    <numlock>on</numlock>
    <repeatRate>25</repeatRate>
    <repeatDelay>300</repeatDelay>

    <!-- Window Management -->
    <keybind key="W-Left">
      <action name="SnapToEdge" direction="left"/>
      <action name="SetDecorations" decorations="none"/>
    </keybind>
    <keybind key="W-Right">
      <action name="SnapToEdge" direction="right"/>
      <action name="SetDecorations" decorations="none"/>
    </keybind>
    <keybind key="W-Up">
      <action name="SnapToEdge" direction="up"/>
      <action name="SetDecorations" decorations="none"/>
    </keybind>
    <keybind key="W-Down">
      <action name="SnapToEdge" direction="down"/>
      <action name="SetDecorations" decorations="none"/>
    </keybind>

    <!-- Snap to quarters -->
    <keybind key="W-S-Left">
      <action name="SnapToEdge" direction="up-left"/>
      <action name="SetDecorations" decorations="none"/>
    </keybind>
    <keybind key="W-S-Right">
      <action name="SnapToEdge" direction="up-right"/>
      <action name="SetDecorations" decorations="none"/>
    </keybind>
    <keybind key="W-S-Up">
      <action name="SnapToEdge" direction="down-right"/>
      <action name="SetDecorations" decorations="none"/>
    </keybind>
    <keybind key="W-S-Down">
      <action name="SnapToEdge" direction="down-left"/>
      <action name="SetDecorations" decorations="none"/>
    </keybind>

    <!-- Snap to edge with border-only decorations -->
    <!-- Centre 80% -->
    <keybind key="W-C-c">
      <action name="SetDecorations" decorations="border"/>
      <action name="SnapToRegion" region="center-80"/>
    </keybind>

    <keybind key="W-C-Left">
      <action name="SetDecorations" decorations="border"/>
      <action name="SnapToEdge" direction="left" combine="yes"/>
    </keybind>
    <keybind key="W-C-Right">
      <action name="SetDecorations" decorations="border"/>
      <action name="SnapToEdge" direction="right" combine="yes"/>
    </keybind>
    <keybind key="W-C-Up">
      <action name="SetDecorations" decorations="border"/>
      <action name="SnapToEdge" direction="up" combine="yes"/>
    </keybind>
    <keybind key="W-C-Down">
      <action name="SetDecorations" decorations="border"/>
      <action name="SnapToEdge" direction="down" combine="yes"/>
    </keybind>

    <keybind key="W-C-d">
      <action name="SetDecorations" decorations="full"/>
    </keybind>
    <keybind key="W-C-b">
      <action name="SetDecorations" decorations="border"/>
    </keybind>

    <!-- Workspaces -->
    <keybind key="W-1">
      <action name="GoToDesktop" to="1"/>
    </keybind>
    <keybind key="W-2">
      <action name="GoToDesktop" to="2"/>
    </keybind>
    <keybind key="W-3">
      <action name="GoToDesktop" to="3"/>
    </keybind>
    <keybind key="W-4">
      <action name="GoToDesktop" to="4"/>
    </keybind>

    <!-- Send to workspace -->
    <keybind key="W-S-1">
      <action name="SendToDesktop" to="1"/>
    </keybind>
    <keybind key="W-S-2">
      <action name="SendToDesktop" to="2"/>
    </keybind>
    <keybind key="W-S-3">
      <action name="SendToDesktop" to="3"/>
    </keybind>
    <keybind key="W-S-4">
      <action name="SendToDesktop" to="4"/>
    </keybind>

    <!-- Window actions -->
    <keybind key="W-q">
      <action name="Close"/>
    </keybind>
    <keybind key="W-m">
      <action name="ToggleFullscreen"/>
    </keybind>
    <keybind key="W-u">
      <action name="ToggleDecorations"/>
    </keybind>

    <!-- Window switching (Alt-Tab) -->
    <keybind key="A-Tab">
      <action name="NextWindow"/>
    </keybind>
    <keybind key="A-S-Tab">
      <action name="PreviousWindow"/>
    </keybind>

    <!-- Applications -->
    <keybind key="W-t">
      <action name="Execute" command="foot"/>
    </keybind>
    <keybind key="W-Return">
      <action name="Execute" command="foot"/>
    </keybind>
    <keybind key="W-w">
      <action name="Execute" command="firefox"/>
    </keybind>
    <keybind key="W-space">
      <action name="Execute" command="rofi -show drun"/>
    </keybind>
    <keybind key="W-f">
      <action name="Execute" command="thunar"/>
    </keybind>
    <keybind key="W-e">
      <action name="Execute" command="l3afpad"/>
    </keybind>

    <!-- Right-click menu -->
    <keybind key="A-space">
      <action name="ShowMenu" menu="root-menu"/>
    </keybind>
     <keybind key="A-S-space">
      <action name="ShowMenu" menu="client-menu"/>
    </keybind>

    <!-- Reconfigure -->
    <keybind key="W-S-c">
      <action name="Reconfigure"/>
    </keybind>

    <!-- Screenshot -->
    <keybind key="Print">
      <action name="Execute" command="screenshot"/>
    </keybind>

    <!-- Display configuration -->
    <keybind key="W-C-F12">
      <action name="Execute" command="wlr-randr --output Virtual-1 --mode 1920x1080"/>
    </keybind>
  </keyboard>

  <!-- Mouse -->
  <mouse>
    <default/>
    <context name="Frame">
      <mousebind button="A-Left" action="Drag">
        <action name="Move"/>
      </mousebind>
      <mousebind button="A-Right" action="Drag">
        <action name="Resize"/>
      </mousebind>
    </context>
    <context name="Top">
      <mousebind button="Left" action="Drag">
        <action name="Move"/>
      </mousebind>
      <mousebind button="Left" action="DoubleClick">
        <action name="ToggleMaximize"/>
      </mousebind>
    </context>
    <context name="TLCorner">
      <mousebind button="Left" action="Drag">
        <action name="Resize"/>
      </mousebind>
    </context>
    <context name="TRCorner">
      <mousebind button="Left" action="Drag">
        <action name="Resize"/>
      </mousebind>
    </context>
    <context name="Root">
      <mousebind button="Right" action="Press">
        <action name="ShowMenu" menu="root-menu"/>
      </mousebind>
    </context>
  </mouse>

  <!-- Desktops -->
  <desktops number="4"/>

  <!-- Snap Regions -->
  <regions>
    <region name="center-80" x="10%" y="10%" width="80%" height="80%" />
  </regions>

  <!-- Window rules -->
  <!-- <windowRules>
    <windowRule identifier="firefox">
      <action name="MoveTo" x="0" y="0"/>
      <skipTaskbar>no</skipTaskbar>
    </windowRule>
  </windowRules> -->

  <!-- Resize edges -->
  <resize>
    <popupShow>Always</popupShow>
  </resize>

  <!-- Focus -->
  <focus>
    <followMouse>yes</followMouse>
    <followMouseRequiresMovement>yes</followMouseRequiresMovement>
    <raiseOnFocus>no</raiseOnFocus>
  </focus>

</labwc_config>
